"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mongoose_constants_1 = require("./mongoose.constants");
const mongoose_utils_1 = require("./mongoose.utils");
function createMongooseProviders(connectionName = mongoose_constants_1.DefaultDbConnectionToken, models = []) {
    const providers = (models || []).map(model => ({
        provide: mongoose_utils_1.getModelToken(model.name),
        useFactory: connection => connection.model(model.name, model.schema),
        inject: [connectionName],
    }));
    return providers;
}
exports.createMongooseProviders = createMongooseProviders;
